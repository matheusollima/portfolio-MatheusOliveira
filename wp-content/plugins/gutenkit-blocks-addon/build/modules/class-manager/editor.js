(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.hooks,a=window.wp.i18n,n=window.wp.compose,s=window.wp.plugins,l=window.wp.element;function o(e){var t,a,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(a=o(e[t]))&&(n&&(n+=" "),n+=a)}else for(a in e)e[a]&&(n&&(n+=" "),n+=a);return n}const i=function(){for(var e,t,a=0,n="",s=arguments.length;a<s;a++)(e=arguments[a])&&(t=o(e))&&(n&&(n+=" "),n+=t);return n},r=window.wp.components,c=window.wp.data,d=window.wp.primitives,u=window.ReactJSXRuntime,g=(0,u.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)(d.Path,{d:"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z"})}),h=(0,u.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)(d.Path,{d:"M20.7 12.7s0-.1-.1-.2c0-.2-.2-.4-.4-.6-.3-.5-.9-1.2-1.6-1.8-.7-.6-1.5-1.3-2.6-1.8l-.6 1.4c.9.4 1.6 1 2.1 1.5.6.6 1.1 1.2 1.4 1.6.1.2.3.4.3.5v.1l.7-.3.7-.3Zm-5.2-9.3-1.8 4c-.5-.1-1.1-.2-1.7-.2-3 0-5.2 1.4-6.6 2.7-.7.7-1.2 1.3-1.6 1.8-.2.3-.3.5-.4.6 0 0 0 .1-.1.2s0 0 .7.3l.7.3V13c0-.1.2-.3.3-.5.3-.4.7-1 1.4-1.6 1.2-1.2 3-2.3 5.5-2.3H13v.3c-.4 0-.8-.1-1.1-.1-1.9 0-3.5 1.6-3.5 3.5s.6 2.3 1.6 2.9l-2 4.4.9.4 7.6-16.2-.9-.4Zm-3 12.6c1.7-.2 3-1.7 3-3.5s-.2-1.4-.6-1.9L12.4 16Z"})}),m=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M4 20h8v-1.5H4V20zM18.9 3.5c-.6-.6-1.5-.6-2.1 0l-7.2 7.2c-.4-.1-.7 0-1.1.1-.5.2-1.5.7-1.9 2.2-.4 1.7-.8 2.2-1.1 2.7-.1.1-.2.3-.3.4l-.6 1.1H6c2 0 3.4-.4 4.7-1.4.8-.6 1.2-1.4 1.3-2.3 0-.3 0-.5-.1-.7L19 5.7c.5-.6.5-1.6-.1-2.2zM9.7 14.7c-.7.5-1.5.8-2.4 1 .2-.5.5-1.2.8-2.3.2-.6.4-1 .8-1.1.5-.1 1 .1 1.3.3.2.2.3.5.2.8 0 .3-.1.9-.7 1.3z"})}),p=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})}),b=window.wp.coreData,v=(0,l.memo)((e=>{let t={horizontal:e.value?.horizontal?e.value.horizontal:{},vertical:e.value?.vertical?e.value.vertical:{},blur:e.value?.blur?e.value.blur:{},spread:e.value?.spread?e.value.spread:{},color:e.value?.color?e.value.color:"",position:e.value?.position?e.value.position:"",hasValue:!!e.value?.hasValue&&e.value.hasValue};const{GkitColor:n,GkitRangeUnit:s}=window.gutenkit.components,l=(a,n)=>{const s={...t,[n]:a};e.onChange(s)};return(0,u.jsxs)("div",{className:"gkit-class-manager-panel-body",children:[(0,u.jsx)(n,{onChange:e=>l(e,"color"),value:t.color}),(0,u.jsx)(r.__experimentalSpacer,{marginBottom:"15px"}),(0,u.jsx)(s,{label:(0,a.__)("Horizontal","gutenkit-blocks-addon"),value:t.horizontal,onChange:e=>l(e,"horizontal"),range:{min:-100,max:100}}),(0,u.jsx)(s,{label:(0,a.__)("Vertical","gutenkit-blocks-addon"),value:t.vertical,onChange:e=>l(e,"vertical"),range:{min:-100,max:100}}),(0,u.jsx)(s,{label:(0,a.__)("Blur","gutenkit-blocks-addon"),value:t.blur,onChange:e=>l(e,"blur")}),!e.isTextShadow&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s,{label:(0,a.__)("Spread","gutenkit-blocks-addon"),value:t.spread,onChange:e=>l(e,"spread"),range:{min:-100,max:100}}),(0,u.jsx)(r.__experimentalDivider,{className:"gkit-class-manager-divider"}),(0,u.jsx)(r.SelectControl,{__nextHasNoMarginBottom:!0,label:"Position",value:t.position,options:[{label:"Outline",value:""},{label:"Inset",value:"inset"}],onChange:e=>l(e,"position")})]})]})})),x=new Set(["px","em","rem","%","vh","vw"]),k=e=>{const t=[];for(const a in e){const n=e[a];!n||x.has(n)||Number.isNaN(n)||"string"==typeof n&&n.includes("undefined")||t.push(`${a}: ${n};`)}return t.join(" ")},f=({label:e,message:t,handleClick:n,pluginName:s="gutenkit"})=>(0,u.jsxs)(r.Popover,{onFocusOutside:n,position:"middle left top",className:"gkit-dialog-popup",children:[(0,u.jsxs)("div",{className:"gkit-dialog-popup__header",children:[(0,u.jsxs)("div",{className:"gkit-dialog-title",children:[e,(0,u.jsx)("span",{className:"gkit-dialog-title__badge",children:(0,a.__)("Pro","gutenkit-blocks-addon")})]}),(0,u.jsx)("button",{className:"gkit-dialog-close",onClick:n,children:(0,u.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 36 36",children:(0,u.jsx)("path",{d:"M28.5 9.62L26.38 7.5 18 15.88 9.62 7.5 7.5 9.62 15.88 18 7.5 26.38l2.12 2.12L18 20.12l8.38 8.38 2.12-2.12L20.12 18z"})})})]}),(0,u.jsx)("div",{className:"gkit-dialog-message",children:t}),(0,u.jsx)("div",{className:"gkit-dialog-buttons-wrapper",children:(0,u.jsx)("a",{href:`https://wpmet.com/plugin/${s}/pricing/`,target:"_blank",rel:"noopener noreferrer",className:"gkit-dialog-button",children:(0,a.__)("Upgrade Now","gutenkit-blocks-addon")})})]});function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){w(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){y(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function R(e){return function t(){for(var a=this,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return s.length>=e.length?e.apply(this,s):function(){for(var e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];return t.apply(a,[].concat(s,n))}}}function A(e){return{}.toString.call(e).includes("Object")}function P(e){return"function"==typeof e}var V=R((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),L=function(e,t){return A(t)||V("changeType"),Object.keys(t).some((function(t){return a=e,n=t,!Object.prototype.hasOwnProperty.call(a,n);var a,n}))&&V("changeField"),t},O=function(e){P(e)||V("selectorType")},E=function(e){P(e)||A(e)||V("handlerType"),A(e)&&Object.values(e).some((function(e){return!P(e)}))&&V("handlersType")},T=function(e){var t;e||V("initialIsRequired"),A(e)||V("initialType"),t=e,Object.keys(t).length||V("initialContent")};function N(e,t){return P(t)?t(e.current):t}function $(e,t){return e.current=M(M({},e.current),t),t}function G(e,t,a){return P(t)?t(e.current):Object.keys(a).forEach((function(a){var n;return null===(n=t[a])||void 0===n?void 0:n.call(t,e.current[a])})),a}const B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};T(e),E(t);var a={current:e},n=R(G)(a,t),s=R($)(a),l=R(L)(e),o=R(N)(a);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return O(e),e(a.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(n,s,l,o)(e)}]};var F,H={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},z=(F=function(e,t){throw new Error(e[t]||e.default)},function e(){for(var t=this,a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return n.length>=F.length?F.apply(this,n):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return e.apply(t,[].concat(n,s))}})(H);const I={config:function(e){return e||z("configIsRequired"),t=e,{}.toString.call(t).includes("Object")||z("configType"),e.urls?(console.warn(H.deprecation),{paths:{vs:e.urls.monacoBase}}):e;var t}},D=function e(t,a){return Object.keys(a).forEach((function(n){a[n]instanceof Object&&t[n]&&Object.assign(a[n],e(t[n],a[n]))})),_(_({},t),a)};var W={type:"cancelation",msg:"operation is manually canceled"};const Z=function(e){var t=!1,a=new Promise((function(a,n){e.then((function(e){return t?n(W):a(e)})),e.catch(n)}));return a.cancel=function(){return t=!0},a};var U,q=function(e){if(Array.isArray(e))return e}(U=B({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],_n=!0,a=!1,n=void 0;try{for(var s,l=e[Symbol.iterator]();!(_n=(s=l.next()).done)&&(t.push(s.value),2!==t.length);_n=!0);}catch(e){a=!0,n=e}finally{try{_n||null==l.return||l.return()}finally{if(a)throw n}}return t}}(U)||function(e){if(e){if("string"==typeof e)return j(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?j(e,2):void 0}}(U)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),J=q[0],K=q[1];function X(e){return document.body.appendChild(e)}function Y(e){var t,a,n=J((function(e){return{config:e.config,reject:e.reject}})),s=(t="".concat(n.config.paths.vs,"/loader.js"),a=document.createElement("script"),t&&(a.src=t),a);return s.onload=function(){return e()},s.onerror=n.reject,s}function Q(){var e=J((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){ee(t),e.resolve(t)}),(function(t){e.reject(t)}))}function ee(e){J().monaco||K({monaco:e})}var te=new Promise((function(e,t){return K({resolve:e,reject:t})})),ae={config:function(e){var t=I.config(e),a=t.monaco,n=function(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}(t,["monaco"]);K((function(e){return{config:D(e.config,n),monaco:a}}))},init:function(){var e=J((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(K({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Z(te);if(window.monaco&&window.monaco.editor)return ee(window.monaco),e.resolve(window.monaco),Z(te);!function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(X,Y)(Q)}return Z(te)},__getMonacoInstance:function(){return J((function(e){return e.monaco}))}};const ne=ae,se=window.React;var le={display:"flex",position:"relative",textAlign:"initial"},oe={width:"100%"},ie={display:"none"},re={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},ce=function({children:e}){return se.createElement("div",{style:re.container},e)},de=(0,se.memo)((function({width:e,height:t,isEditorReady:a,loading:n,_ref:s,className:l,wrapperProps:o}){return se.createElement("section",{style:{...le,width:e,height:t},...o},!a&&se.createElement(ce,null,n),se.createElement("div",{ref:s,style:{...oe,...!a&&ie},className:l}))})),ue=function(e){(0,se.useEffect)(e,[])},ge=function(e,t,a=!0){let n=(0,se.useRef)(!0);(0,se.useEffect)(n.current||!a?()=>{n.current=!1}:e,t)};function he(){}function me(e,t,a,n){return function(e,t){return e.editor.getModel(pe(e,t))}(e,n)||function(e,t,a,n){return e.editor.createModel(t,a,n?pe(e,n):void 0)}(e,t,a,n)}function pe(e,t){return e.Uri.parse(t)}(0,se.memo)((function({original:e,modified:t,language:a,originalLanguage:n,modifiedLanguage:s,originalModelPath:l,modifiedModelPath:o,keepCurrentOriginalModel:i=!1,keepCurrentModifiedModel:r=!1,theme:c="light",loading:d="Loading...",options:u={},height:g="100%",width:h="100%",className:m,wrapperProps:p={},beforeMount:b=he,onMount:v=he}){let[x,k]=(0,se.useState)(!1),[f,w]=(0,se.useState)(!0),C=(0,se.useRef)(null),_=(0,se.useRef)(null),j=(0,se.useRef)(null),y=(0,se.useRef)(v),S=(0,se.useRef)(b),M=(0,se.useRef)(!1);ue((()=>{let e=ne.init();return e.then((e=>(_.current=e)&&w(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>C.current?function(){let e=C.current?.getModel();i||e?.original?.dispose(),r||e?.modified?.dispose(),C.current?.dispose()}():e.cancel()})),ge((()=>{if(C.current&&_.current){let t=C.current.getOriginalEditor(),s=me(_.current,e||"",n||a||"text",l||"");s!==t.getModel()&&t.setModel(s)}}),[l],x),ge((()=>{if(C.current&&_.current){let e=C.current.getModifiedEditor(),n=me(_.current,t||"",s||a||"text",o||"");n!==e.getModel()&&e.setModel(n)}}),[o],x),ge((()=>{let e=C.current.getModifiedEditor();e.getOption(_.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())}),[t],x),ge((()=>{C.current?.getModel()?.original.setValue(e||"")}),[e],x),ge((()=>{let{original:e,modified:t}=C.current.getModel();_.current.editor.setModelLanguage(e,n||a||"text"),_.current.editor.setModelLanguage(t,s||a||"text")}),[a,n,s],x),ge((()=>{_.current?.editor.setTheme(c)}),[c],x),ge((()=>{C.current?.updateOptions(u)}),[u],x);let R=(0,se.useCallback)((()=>{if(!_.current)return;S.current(_.current);let i=me(_.current,e||"",n||a||"text",l||""),r=me(_.current,t||"",s||a||"text",o||"");C.current?.setModel({original:i,modified:r})}),[a,t,s,e,n,l,o]),A=(0,se.useCallback)((()=>{!M.current&&j.current&&(C.current=_.current.editor.createDiffEditor(j.current,{automaticLayout:!0,...u}),R(),_.current?.editor.setTheme(c),k(!0),M.current=!0)}),[u,c,R]);return(0,se.useEffect)((()=>{x&&y.current(C.current,_.current)}),[x]),(0,se.useEffect)((()=>{!f&&!x&&A()}),[f,x,A]),se.createElement(de,{width:h,height:g,isEditorReady:x,loading:d,_ref:j,className:m,wrapperProps:p})}));var be=new Map,ve=(0,se.memo)((function({defaultValue:e,defaultLanguage:t,defaultPath:a,value:n,language:s,path:l,theme:o="light",line:i,loading:r="Loading...",options:c={},overrideServices:d={},saveViewState:u=!0,keepCurrentModel:g=!1,width:h="100%",height:m="100%",className:p,wrapperProps:b={},beforeMount:v=he,onMount:x=he,onChange:k,onValidate:f=he}){let[w,C]=(0,se.useState)(!1),[_,j]=(0,se.useState)(!0),y=(0,se.useRef)(null),S=(0,se.useRef)(null),M=(0,se.useRef)(null),R=(0,se.useRef)(x),A=(0,se.useRef)(v),P=(0,se.useRef)(),V=(0,se.useRef)(n),L=function(e){let t=(0,se.useRef)();return(0,se.useEffect)((()=>{t.current=e}),[e]),t.current}(l),O=(0,se.useRef)(!1),E=(0,se.useRef)(!1);ue((()=>{let e=ne.init();return e.then((e=>(y.current=e)&&j(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>S.current?(P.current?.dispose(),g?u&&be.set(l,S.current.saveViewState()):S.current.getModel()?.dispose(),void S.current.dispose()):e.cancel()})),ge((()=>{let o=me(y.current,e||n||"",t||s||"",l||a||"");o!==S.current?.getModel()&&(u&&be.set(L,S.current?.saveViewState()),S.current?.setModel(o),u&&S.current?.restoreViewState(be.get(l)))}),[l],w),ge((()=>{S.current?.updateOptions(c)}),[c],w),ge((()=>{!S.current||void 0===n||(S.current.getOption(y.current.editor.EditorOption.readOnly)?S.current.setValue(n):n!==S.current.getValue()&&(E.current=!0,S.current.executeEdits("",[{range:S.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),S.current.pushUndoStop(),E.current=!1))}),[n],w),ge((()=>{let e=S.current?.getModel();e&&s&&y.current?.editor.setModelLanguage(e,s)}),[s],w),ge((()=>{void 0!==i&&S.current?.revealLine(i)}),[i],w),ge((()=>{y.current?.editor.setTheme(o)}),[o],w);let T=(0,se.useCallback)((()=>{if(M.current&&y.current&&!O.current){A.current(y.current);let r=l||a,g=me(y.current,n||e||"",t||s||"",r||"");S.current=y.current?.editor.create(M.current,{model:g,automaticLayout:!0,...c},d),u&&S.current.restoreViewState(be.get(r)),y.current.editor.setTheme(o),void 0!==i&&S.current.revealLine(i),C(!0),O.current=!0}}),[e,t,a,n,s,l,c,d,u,o,i]);return(0,se.useEffect)((()=>{w&&R.current(S.current,y.current)}),[w]),(0,se.useEffect)((()=>{!_&&!w&&T()}),[_,w,T]),V.current=n,(0,se.useEffect)((()=>{w&&k&&(P.current?.dispose(),P.current=S.current?.onDidChangeModelContent((e=>{E.current||k(S.current.getValue(),e)})))}),[w,k]),(0,se.useEffect)((()=>{if(w){let e=y.current.editor.onDidChangeMarkers((e=>{let t=S.current.getModel()?.uri;if(t&&e.find((e=>e.path===t.path))){let e=y.current.editor.getModelMarkers({resource:t});f?.(e)}}));return()=>{e?.dispose()}}return()=>{}}),[w,f]),se.createElement(de,{width:h,height:m,isEditorReady:w,loading:r,_ref:M,className:p,wrapperProps:b})}));const xe=()=>(0,u.jsxs)("div",{className:"gkit-css-editor-skeleton",children:[(0,u.jsx)("div",{className:"gkit-css-editor-skeleton-header"}),[...Array(8)].map(((e,t)=>(0,u.jsx)("div",{className:"gkit-css-editor-skeleton-line"},t)))]}),ke=({value:e,onChange:t})=>(0,u.jsx)(ve,{height:"300px",language:"css",value:e,theme:"vs-dark",onChange:t,onMount:function(e,t){t.languages.registerCompletionItemProvider("css",{triggerCharacters:[":"," ","-"],provideCompletionItems:()=>({suggestions:[{label:"selector",kind:t.languages.CompletionItemKind.Snippet,insertText:"selector",insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:'Replaces "selector" with block unique class'},{label:"display: flex;",kind:t.languages.CompletionItemKind.Snippet,insertText:"display: flex;",insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Use flexbox for layout"},{label:"color: red;",kind:t.languages.CompletionItemKind.Snippet,insertText:"color: red;",documentation:"Sets text color to red"},{label:"background-color: blue;",kind:t.languages.CompletionItemKind.Snippet,insertText:"background-color: blue;",documentation:"Sets background color to blue"}]})}),e.addCommand(t.KeyMod.CtrlCmd|t.KeyCode.Space,(()=>{e.trigger("manual","editor.action.triggerSuggest",{})}))},loading:(0,u.jsx)(xe,{}),options:{minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"off",automaticLayout:!0,lineNumbersMinChars:3,fontSize:13,folding:!1,glyphMargin:!0,lineDecorationsWidth:0,wordWrap:"on",suggestOnTriggerCharacters:!0,quickSuggestions:{other:!0,comments:!0,strings:!0}}}),fe=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M5 11.25h14v1.5H5z"})}),we=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M7.1 6.8L3.1 18h1.6l1.1-3h4.3l1.1 3h1.6l-4-11.2H7.1zm-.8 6.8L8 8.9l1.7 4.7H6.3zm14.5-1.5c-.3-.6-.7-1.1-1.2-1.5-.6-.4-1.2-.6-1.9-.6-.5 0-.9.1-1.4.3-.4.2-.8.5-1.1.8V6h-1.4v12h1.3l.2-1c.2.4.6.6 1 .8.4.2.9.3 1.4.3.7 0 1.2-.2 1.8-.5.5-.4 1-.9 1.3-1.5.3-.6.5-1.3.5-2.1-.1-.6-.2-1.3-.5-1.9zm-1.7 4c-.4.5-.9.8-1.6.8s-1.2-.2-1.7-.7c-.4-.5-.7-1.2-.7-2.1 0-.9.2-1.6.7-2.1.4-.5 1-.7 1.7-.7s1.2.3 1.6.8c.4.5.6 1.2.6 2 .1.8-.2 1.4-.6 2z"})}),Ce=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M6.1 6.8L2.1 18h1.6l1.1-3h4.3l1.1 3h1.6l-4-11.2H6.1zm-.8 6.8L7 8.9l1.7 4.7H5.3zm15.1-.7c-.4-.5-.9-.8-1.6-1 .4-.2.7-.5.8-.9.2-.4.3-.9.3-1.4 0-.9-.3-1.6-.8-2-.6-.5-1.3-.7-2.4-.7h-3.5V18h4.2c1.1 0 2-.3 2.6-.8.6-.6 1-1.4 1-2.4-.1-.8-.3-1.4-.6-1.9zm-5.7-4.7h1.8c.6 0 1.1.1 1.4.4.3.2.5.7.5 1.3 0 .6-.2 1.1-.5 1.3-.3.2-.8.4-1.4.4h-1.8V8.2zm4 8c-.4.3-.9.5-1.5.5h-2.6v-3.8h2.6c1.4 0 2 .6 2 1.9.1.6-.1 1-.5 1.4z"})}),_e=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M11 16.8c-.1-.1-.2-.3-.3-.5v-2.6c0-.9-.1-1.7-.3-2.2-.2-.5-.5-.9-.9-1.2-.4-.2-.9-.3-1.6-.3-.5 0-1 .1-1.5.2s-.9.3-1.2.6l.2 1.2c.4-.3.7-.4 1.1-.5.3-.1.7-.2 1-.2.6 0 1 .1 1.3.4.3.2.4.7.4 1.4-1.2 0-2.3.2-3.3.7s-1.4 1.1-1.4 2.1c0 .7.2 1.2.7 1.6.4.4 1 .6 1.8.6.9 0 1.7-.4 2.4-1.2.1.3.2.5.4.7.1.2.3.3.6.4.3.1.6.1 1.1.1h.1l.2-1.2h-.1c-.4.1-.6 0-.7-.1zM9.2 16c-.2.3-.5.6-.9.8-.3.1-.7.2-1.1.2-.4 0-.7-.1-.9-.3-.2-.2-.3-.5-.3-.9 0-.6.2-1 .7-1.3.5-.3 1.3-.4 2.5-.5v2zm10.6-3.9c-.3-.6-.7-1.1-1.2-1.5-.6-.4-1.2-.6-1.9-.6-.5 0-.9.1-1.4.3-.4.2-.8.5-1.1.8V6h-1.4v12h1.3l.2-1c.2.4.6.6 1 .8.4.2.9.3 1.4.3.7 0 1.2-.2 1.8-.5.5-.4 1-.9 1.3-1.5.3-.6.5-1.3.5-2.1-.1-.6-.2-1.3-.5-1.9zm-1.7 4c-.4.5-.9.8-1.6.8s-1.2-.2-1.7-.7c-.4-.5-.7-1.2-.7-2.1 0-.9.2-1.6.7-2.1.4-.5 1-.7 1.7-.7s1.2.3 1.6.8c.4.5.6 1.2.6 2s-.2 1.4-.6 2z"})}),je=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M12.5 5L10 19h1.9l2.5-14z"})}),ye=(0,u.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)(d.Path,{d:"M20.8 10.7l-4.3-4.3-1.1 1.1 4.3 4.3c.1.1.1.3 0 .4l-4.3 4.3 1.1 1.1 4.3-4.3c.7-.8.7-1.9 0-2.6zM4.2 11.8l4.3-4.3-1-1-4.3 4.3c-.7.7-.7 1.8 0 2.5l4.3 4.3 1.1-1.1-4.3-4.3c-.2-.1-.2-.3-.1-.4z"})}),Se=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M7 18v1h10v-1H7zm5-2c1.5 0 2.6-.4 3.4-1.2.8-.8 1.1-2 1.1-3.5V5H15v5.8c0 1.2-.2 2.1-.6 2.8-.4.7-1.2 1-2.4 1s-2-.3-2.4-1c-.4-.7-.6-1.6-.6-2.8V5H7.5v6.2c0 1.5.4 2.7 1.1 3.5.8.9 1.9 1.3 3.4 1.3z"})}),Me=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M9.1 9v-.5c0-.6.2-1.1.7-1.4.5-.3 1.2-.5 2-.5.7 0 1.4.1 2.1.3.7.2 1.4.5 2.1.9l.2-1.9c-.6-.3-1.2-.5-1.9-.7-.8-.1-1.6-.2-2.4-.2-1.5 0-2.7.3-3.6 1-.8.7-1.2 1.5-1.2 2.6V9h2zM20 12H4v1h8.3c.3.1.6.2.8.3.5.2.9.5 1.1.8.3.3.4.7.4 1.2 0 .7-.2 1.1-.8 1.5-.5.3-1.2.5-2.1.5-.8 0-1.6-.1-2.4-.3-.8-.2-1.5-.5-2.2-.8L7 18.1c.5.2 1.2.4 2 .6.8.2 1.6.3 2.4.3 1.7 0 3-.3 3.9-1 .9-.7 1.3-1.6 1.3-2.8 0-.9-.2-1.7-.7-2.2H20v-1z"})}),Re=(0,l.memo)((({fontFamily:e={},fontSize:t={},fontWeight:n={},textTransform:s={},fontStyle:o={},textDecoration:i={},lineHeight:c={},letterSpacing:d={},wordSpacing:g={},value:h,onChange:m,excludes:p=[]})=>{const{GkitResponsive:b,GkitRangeUnit:v,GkitChoose:x,FontFamily:k,GkitConditionalWrapper:f,GkitComplexSelect:w,fontWeights:C}=window.gutenkit.components,{useDeviceType:_}=window.gutenkit.helpers,j=_(),y=(0,l.useMemo)((()=>({fontFamily:h?.fontFamily||"",fontSize:h?.fontSize||"",fontWeight:h?.fontWeight||"",textTransform:h?.textTransform||"",fontStyle:h?.fontStyle||"",textDecoration:h?.textDecoration||"",lineHeight:h?.lineHeight||"",letterSpacing:h?.letterSpacing||"",wordSpacing:h?.wordSpacing||"",hasValue:h?.hasValue||!1})),[h]),S=(e,t)=>{y[t]={...y[t],[j]:e},m(y)},M=(e,t)=>{y[t]=e,m(y)};return(0,u.jsxs)("div",{className:"gkit-typography gkit-control-wrap",children:[(0,u.jsxs)("div",{className:"gkit-typography__preview",children:[!p.includes("fontFamily")&&(0,u.jsx)(k,{label:(0,a.__)("Font Family","gutenkit-blocks-addon"),value:y.fontFamily,onChange:e=>{M(e,"fontFamily"),M({label:"Default",value:"normal"},"fontWeight")}}),!p.includes("fontWeight")&&(0,u.jsx)(w,{label:(0,a.__)("Font Weight","gutenkit-blocks-addon"),options:h?.fontFamily?.variants||C,onChange:e=>M(e,"fontWeight"),value:y.fontWeight,isClearable:!0,...n})]}),(0,u.jsx)(r.__experimentalSpacer,{marginBottom:"10px"}),!p.includes("fontSize")&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(f,{condition:t?.responsive,wrapper:e=>(0,u.jsx)(b,{children:e}),children:(0,u.jsx)(v,{label:(0,a.__)("Font Size","gutenkit-blocks-addon"),value:y?.fontSize[j],units:t?.units||{px:{min:0,max:200},em:{min:0,max:100},rem:{min:0,max:100}},onChange:e=>S(e,"fontSize")})}),(0,u.jsx)(r.__experimentalSpacer,{marginBottom:"15px"})]}),!p.includes("lineHeight")&&(0,u.jsx)(f,{condition:c?.responsive,wrapper:e=>(0,u.jsx)(b,{children:e}),children:(0,u.jsx)(v,{label:(0,a.__)("Line Height","gutenkit-blocks-addon"),value:y.lineHeight[j],units:c?.units?c?.units:{px:{min:0,max:200},em:{min:0,max:100},rem:{min:0,max:100}},onChange:e=>S(e,"lineHeight")})}),!p.includes("letterSpacing")&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(f,{condition:d?.responsive,wrapper:e=>(0,u.jsx)(b,{children:e}),children:(0,u.jsx)(v,{label:(0,a.__)("Letter Spacing","gutenkit-blocks-addon"),value:y.letterSpacing[j],units:d?.units?d?.units:{px:{min:-5,max:10,step:.1},em:{min:-5,max:10,step:.1}},onChange:e=>S(e,"letterSpacing")})}),(0,u.jsx)(r.__experimentalSpacer,{marginBottom:"15px"})]}),!p.includes("wordSpacing")&&(0,u.jsx)(f,{condition:g?.responsive,wrapper:e=>(0,u.jsx)(b,{children:e}),children:(0,u.jsx)(v,{label:(0,a.__)("Word Spacing","gutenkit-blocks-addon"),value:y.wordSpacing[j],units:g?.units?g?.units:{px:{min:0,max:100},em:{min:0,max:10}},onChange:e=>S(e,"wordSpacing")})}),(0,u.jsx)("div",{className:"gkit-typography__transform",children:!p.includes("textTransform")&&(0,u.jsx)(x,{label:(0,a.__)("Text Transform","gutenkit-blocks-addon"),value:y.textTransform,options:[{label:"Normal",value:"none",icon:fe},{label:"Capitalize",value:"capitalize",icon:we},{label:"Uppercase",value:"uppercase",icon:Ce},{label:"Lowercase",value:"lowercase",icon:_e}],onChange:e=>M(e,"textTransform")})}),(0,u.jsx)(r.__experimentalSpacer,{marginBottom:"15px"}),(0,u.jsxs)("div",{className:"gkit-typography__styledecoration",children:[!p.includes("fontStyle")&&(0,u.jsx)(x,{label:(0,a.__)("Font Style","gutenkit-blocks-addon"),value:y.fontStyle,options:[{label:"Normal",value:"normal",icon:fe},{label:"Italic",value:"italic",icon:je},{label:"Oblique",value:"oblique",icon:ye}],onChange:e=>M(e,"fontStyle")}),!p.includes("textDecoration")&&(0,u.jsx)(x,{label:(0,a.__)("Text Decoration","gutenkit-blocks-addon"),value:y.textDecoration,options:[{label:"Normal",value:"none",icon:fe},{label:"Underline",value:"underline",icon:Se},{label:"Strikethrough",value:"line-through",icon:Me}],onChange:e=>M(e,"textDecoration")})]})]})})),Ae=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z"})}),Pe=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z"})}),Ve=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z"})}),Le=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M4 12.8h16v-1.5H4v1.5zm0 7h12.4v-1.5H4v1.5zM4 4.3v1.5h16V4.3H4z"})}),Oe=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M4 6.5h5a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H4V16h5a.5.5 0 0 0 .5-.5v-7A.5.5 0 0 0 9 8H4V6.5Zm16 0h-5a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h5V16h-5a.5.5 0 0 1-.5-.5v-7A.5.5 0 0 1 15 8h5V6.5Z"})}),Ee=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M19 6H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM6 17.5c-.3 0-.5-.2-.5-.5V8c0-.3.2-.5.5-.5h3v10H6zm13.5-.5c0 .3-.2.5-.5.5h-3v-10h3c.3 0 .5.2.5.5v9z"})}),Te=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"})}),Ne=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"m13.53 8.47-1.06 1.06-2.72-2.72V12h-1.5V6.81L5.53 9.53 4.47 8.47 9 3.94l4.53 4.53Zm-1.802 7.968c1.307.697 3.235.812 5.772.812v1.5c-2.463 0-4.785-.085-6.478-.988a4.721 4.721 0 0 1-2.07-2.13C8.48 14.67 8.25 13.471 8.25 12h1.5c0 1.328.208 2.28.548 2.969.332.675.81 1.138 1.43 1.47Z"})}),$e=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M9 9v6h11V9H9zM4 20h1.5V4H4v16z"})}),Ge=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M12.5 15v5H11v-5H4V9h7V4h1.5v5h7v6h-7Z"})}),Be=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M4 15h11V9H4v6zM18.5 4v16H20V4h-1.5z"})}),Fe=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M9 15h6V9H9v6zm-5 5h1.5V4H4v16zM18.5 4v16H20V4h-1.5z"})}),He=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M4 4H5.5V20H4V4ZM7 10L17 10V14L7 14V10ZM20 4H18.5V20H20V4Z"})}),ze=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{fillRule:"evenodd",d:"M5 5.5h14a.5.5 0 01.5.5v1.5a.5.5 0 01-.5.5H5a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 9.232A2 2 0 013 7.5V6a2 2 0 012-2h14a2 2 0 012 2v1.5a2 2 0 01-1 1.732V18a2 2 0 01-2 2H6a2 2 0 01-2-2V9.232zm1.5.268V18a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V9.5h-13z",clipRule:"evenodd"})}),Ie=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z"})}),De=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z"})}),We=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})}),Ze=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"})}),Ue=({selectedClass:e})=>{const{__unstableMarkNextChangeAsNotPersistent:t}=(0,c.useDispatch)("core/block-editor"),{useDeviceList:n,useHasProActive:s}=window?.gutenkit?.helpers,o=s(),i=n(),{GkitPanelBody:d,GkitColor:g,GkitResponsive:h,GkitBackgrounGroup:m,GkitBoxControl:p,GkitBorderControl:x,GkitRangeUnit:w,GkitChoose:C,GkitSelect:_,GkitSlider:j,GkitNumber:y}=window.gutenkit.components,{useDeviceType:S,useFontFamilyinBlock:M}=window.gutenkit.helpers,R=S(),[A,P]=(0,b.useEntityProp)("postType","class-manager","meta",e?.id),V=(0,c.useSelect)((e=>{const{getEditedActiveClass:t}=e("gutenkit/class-manager");return t()}),[]),L=e?.id===V?.id,O=(0,l.useMemo)((()=>{let t;t=L?`.${e?.title}`:`.${V?.title} ${e?.title}`;const a=((e,t,a)=>{const{parseCSS:n,fillBackgroundGenerator:s,getTypographyValue:l,getBoxValue:o,getColor:i,getBorderValue:r,getBoxShadowValue:c,getSliderValue:d}=window.gutenkit.helpers,u=["relative","static"],g=["absolute","fixed","sticky"];return n([[{selector:`${a}`,"overflow-x":e?.globalClassManagerOverflowXStyle,"overflow-y":e?.globalClassManagerOverflowYStyle,"white-space":e?.globalClassManagerWhiteSpace,...s(e?.globalClassManagerBackground,"background"),color:i(e?.classManagerBoxShadowColor),"box-shadow":c(e?.globalClassManagerBoxShadow),"text-shadow":c(e?.globalClassManagerTextShadow),display:e?.classManagerLayoutType,color:i(e?.globalClassManagerTextColor)},{selector:`${a} :is(svg *, i)`,fill:i(e?.globalClassManagerFillColor),stroke:i(e?.globalClassManagerStrokeColor),"stroke-width":d(e?.globalClassManagerStrokeWidth),"stroke-dasharray":d(e?.globalClassManagerStrokeDasharray),"stroke-opacity":d(e?.globalClassManagerStrokeOpacity),"stroke-linecap":e?.globalClassManagerStrokeLinecap,"stroke-linejoin":e?.globalClassManagerStrokeLinejoin},{selector:`${a} a`,color:i(e?.globalClassManagerLinkColor)}],t=>{const n=e?.classManagerLayoutType,s=e?.classManagerGridLayoutType,i=e?.[`globalClassManagerAdvancedWidth${t}`];return[{selector:`${a}`,...l(e?.globalClassManagerTypography,t),"text-align":e?.[`globalClassManagerTypographyTextAlignment${t}`],...o(e?.[`globalClassManagerPadding${t}`],"padding"),...o(e?.[`globalClassManagerMargin${t}`],"margin"),...r(e?.[`globalClassManagerBorder${t}`]),...o(e?.[`globalClassManagerBorderRadius${t}`],"border-radius"),width:i?"default"===i||"full"===i?"100%":"auto"===i?"auto !important":`${d(e?.[`classManagerAdvancedCustomWidth${t}`])} !important`:void 0,"min-width":i?"default"===i||"full"===i?"100%":"auto"===i?"auto !important":`${d(e?.[`classManagerAdvancedCustomMinWidth${t}`])} !important`:void 0,"max-width":i?"default"===i||"full"===i?"100%":"auto"===i?"auto !important":`${d(e?.[`classManagerAdvancedCustomMaxWidth${t}`])} !important`:void 0,..."flex"===n&&{"flex-direction":e?.[`classManagerFlexDirection${t}`],"align-items":e?.[`classManagerFlexAlign${t}`],"justify-content":e?.[`classManagerFlexJustify${t}`],"flex-wrap":e?.[`classManagerFlexWrap${t}`],"column-gap":d(e?.[`classManagerFlexColumnGap${t}`]),"row-gap":d(e?.[`classManagerFlexRowGap${t}`])},..."grid"===n&&"auto"===s&&{"grid-template-columns":`repeat(auto-fill, minmax(min(${d(e?.[`classManagerGridMinimumColumnWidth${t}`])}, 100%), 1fr))`,"grid-auto-rows":`minmax(${d(e?.[`classManagerGridMinimumColumnHeight${t}`])}, auto)`},..."grid"===n&&"manual"===s&&{"grid-template-columns":`repeat(${e?.[`classManagerGridColumns${t}`]}, minmax(0, 1fr))`,"grid-template-rows":`repeat(${e?.[`classManagerGridManualRows${t}`]}, minmax(0, 1fr))`},..."grid"===n&&"masonry"===s&&{"column-count":`repeat(${e?.[`classManagerGridColumns${t}`]}, minmax(0, 1fr))`},..."grid"===n&&{"column-gap":d(e?.[`classManagerGridColumnGap${t}`]),"row-gap":d(e?.[`classManagerGridRowGap${t}`])},position:u.includes(e?.globalClassManagerAdvancedPositions)?void 0:e?.globalClassManagerAdvancedPositions,[e?.classManagerVerticalPosition]:g.includes(e?.globalClassManagerAdvancedPositions)?d(e?.[`classManagerVerticalPositionOffset${t}`]):void 0,[e?.classManagerHorizontalPosition]:g.includes(e?.globalClassManagerAdvancedPositions)?d(e?.[`classManagerHorizontalPositionOffset${t}`]):void 0,"z-index":e?.[`classManagerAdvancedZindex${t}`]?.size?d(e?.[`classManagerAdvancedZindex${t}`].size):void 0}]}],t)})(A,i,t);let n=((e,t)=>{const a={};for(let n=0;n<t.length;n++){const s=t[n],l=e[s.slug]||e[s.slug.toLowerCase()];if(l){const e=[];for(let t=0;t<l.length;t++){const{selector:a,...n}=l[t],s=k(n);s&&e.push(`${a} { ${s} }`)}e.length>0&&(a[s.slug.toLowerCase()]=e.join(" "))}}if(e.customStyles){const t=[];for(let a=0;a<e.customStyles.length;a++){const{mediaQuery:n,selector:s,...l}=e.customStyles[a];if(n&&!n.includes("undefined")){const e=k(l);e&&t.push(`@media (${n}) { ${s} { ${e} } }`)}}t.length>0&&(a.customStyles=t.join(" "))}return a})(a?.rawCSS,i);var s,l;return n.desktop=(l=t,(s=n.desktop+(A?.classManagerCustomCSS||""))&&l?s.replace(/\bselector\b/gi,l):s),n}),[A,i,e?.title]),E=(0,l.useRef)(A?.globalClassManagerStyle),T=["absolute","fixed","sticky"];(0,l.useEffect)((()=>{A&&O&&e?.id&&O&&Object.keys(O).length>0&&JSON.stringify(E.current)!==JSON.stringify(O)&&(t(),P({globalClassManagerStyle:O}),E.current=O)}),[O,A,e?.id]),(0,l.useEffect)((()=>{if(!O||!O.desktop||!e?.title)return;const t=(window.frames["editor-canvas"]||window).document,a=`${e.title}`;let n=t.getElementById(a);n||(n=t.createElement("style"),n.id=a,t.body.appendChild(n)),n.innerHTML=O.desktop}),[O,e?.title]);const[N,$]=(0,l.useState)(!1),G=()=>{$((e=>!e))},B=()=>{$(!1),setIsOpen(!1)};return(0,l.useEffect)((()=>{}),[N]),M([A?.globalClassManagerTypography]),(0,u.jsx)(r.TabPanel,{className:"gkit-tabs gkit-tabs-normal",activeClass:"gkit-tabs__button--active",initialTabName:"classManagerStyle",tabs:[{title:(0,a.__)("Style","gutenkit-blocks-addon"),name:"classManagerStyle"},{title:(0,a.__)("Advanced","gutenkit-blocks-addon"),name:"classManagerAdvanced"}],children:t=>{switch(t.name){case"classManagerStyle":return(0,u.jsxs)("div",{className:"global-class-manager-controls",children:[(0,u.jsxs)(d,{title:(0,a.__)("Typography","gutenkit-blocks-addon"),children:[(0,u.jsx)(Re,{value:A?.globalClassManagerTypography,onChange:e=>P({globalClassManagerTypography:e})}),(0,u.jsx)(r.__experimentalSpacer,{marginBottom:"20px"}),(0,u.jsx)(h,{children:(0,u.jsx)(C,{label:(0,a.__)("Text Align","gutenkit-blocks-addon"),value:A?.[`globalClassManagerTypographyTextAlignment${R}`],options:[{label:(0,a.__)("Left","gutenkit-blocks-addon"),value:"left",icon:Ae},{label:(0,a.__)("Center","gutenkit-blocks-addon"),value:"center",icon:Pe},{label:(0,a.__)("Right","gutenkit-blocks-addon"),value:"right",icon:Ve},{label:(0,a.__)("Justify","gutenkit-blocks-addon"),value:"justify",icon:Le}],onChange:e=>P({[`globalClassManagerTypographyTextAlignment${R}`]:e})})})]}),(0,u.jsx)(d,{title:(0,a.__)("Text Shadow","gutenkit-blocks-addon"),children:(0,u.jsx)(v,{value:A?.globalClassManagerTextShadow,onChange:e=>P({globalClassManagerTextShadow:e}),isTextShadow:!0})}),(0,u.jsx)(d,{title:(0,a.__)("Color","gutenkit-blocks-addon"),children:(0,u.jsxs)("div",{className:"gkit-class-manager-panel-body",children:[(0,u.jsx)(g,{label:(0,a.__)("Text Color","gutenkit-blocks-addon"),value:A?.globalClassManagerTextColor,onChange:e=>P({globalClassManagerTextColor:e})}),(0,u.jsx)(g,{label:(0,a.__)("Link Color","gutenkit-blocks-addon"),value:A?.globalClassManagerLinkColor,onChange:e=>P({globalClassManagerLinkColor:e})}),(0,u.jsx)(m,{label:(0,a.__)("Background","gutenkit-blocks-addon"),value:A?.globalClassManagerBackground,onChange:e=>P({globalClassManagerBackground:e}),exclude:{video:!0}})]})}),(0,u.jsx)(d,{title:(0,a.__)("Stroke","gutenkit-blocks-addon"),children:(0,u.jsxs)("div",{className:"gkit-class-manager-panel-body",children:[(0,u.jsx)(g,{label:(0,a.__)("Color","gutenkit-blocks-addon"),value:A?.globalClassManagerStrokeColor,onChange:e=>P({globalClassManagerStrokeColor:e})}),(0,u.jsx)(g,{label:(0,a.__)("Fill Color","gutenkit-blocks-addon"),value:A?.globalClassManagerFillColor,onChange:e=>P({globalClassManagerFillColor:e})}),(0,u.jsx)(w,{label:(0,a.__)("Width","gutenkit-blocks-addon"),value:A?.globalClassManagerStrokeWidth,onChange:e=>P({globalClassManagerStrokeWidth:e}),units:{px:{min:0,max:100},em:{min:0,max:10},rem:{min:0,max:10}}}),(0,u.jsx)(w,{label:(0,a.__)("Dasharray","gutenkit-blocks-addon"),value:A?.globalClassManagerStrokeDasharray,onChange:e=>P({globalClassManagerStrokeDasharray:e}),units:{px:{min:0,max:100}}}),(0,u.jsx)(j,{label:(0,a.__)("Opacity","gutenkit-blocks-addon"),value:A?.globalClassManagerStrokeOpacity,onChange:e=>P({globalClassManagerStrokeOpacity:e}),range:{max:1,min:0,step:.1}}),(0,u.jsx)(C,{label:(0,a.__)("Linecap","gutenkit-blocks-addon"),value:A?.globalClassManagerStrokeLinecap,options:[{label:(0,a.__)("Butt","gutenkit-blocks-addon"),value:"butt"},{label:(0,a.__)("Round","gutenkit-blocks-addon"),value:"round"},{label:(0,a.__)("Square","gutenkit-blocks-addon"),value:"square"},{label:(0,a.__)("Unset","gutenkit-blocks-addon"),value:"unset"}],onChange:e=>P({globalClassManagerStrokeLinecap:e})}),(0,u.jsx)(C,{label:(0,a.__)("Linejoin","gutenkit-blocks-addon"),value:A?.globalClassManagerStrokeLinejoin,options:[{label:(0,a.__)("Miter","gutenkit-blocks-addon"),value:"miter"},{label:(0,a.__)("Round","gutenkit-blocks-addon"),value:"round"},{label:(0,a.__)("Bevel","gutenkit-blocks-addon"),value:"bevel"},{label:(0,a.__)("Unset","gutenkit-blocks-addon"),value:"unset"}],onChange:e=>P({globalClassManagerStrokeLinejoin:e})})]})}),(0,u.jsxs)(d,{title:(0,a.__)("Overflow","gutenkit-blocks-addon"),children:[(0,u.jsx)(_,{label:(0,a.__)("Overflow-X","gutenkit-blocks-addon"),value:A?.globalClassManagerOverflowXStyle,options:[{label:(0,a.__)("Auto","gutenkit-blocks-addon"),value:"auto"},{label:(0,a.__)("Hidden","gutenkit-blocks-addon"),value:"hidden"},{label:(0,a.__)("Scroll","gutenkit-blocks-addon"),value:"scroll"},{label:(0,a.__)("Visible","gutenkit-blocks-addon"),value:"visible"},{label:(0,a.__)("Clip","gutenkit-blocks-addon"),value:"clip"},{label:(0,a.__)("Unset","gutenkit-blocks-addon"),value:"unset"}],onChange:e=>P({globalClassManagerOverflowXStyle:e}),__nextHasNoMarginBottom:!0}),(0,u.jsx)(_,{label:(0,a.__)("Overflow-Y","gutenkit-blocks-addon"),value:A?.globalClassManagerOverflowYStyle,options:[{label:(0,a.__)("Auto","gutenkit-blocks-addon"),value:"auto"},{label:(0,a.__)("Hidden","gutenkit-blocks-addon"),value:"hidden"},{label:(0,a.__)("Scroll","gutenkit-blocks-addon"),value:"scroll"},{label:(0,a.__)("Visible","gutenkit-blocks-addon"),value:"visible"},{label:(0,a.__)("Clip","gutenkit-blocks-addon"),value:"clip"},{label:(0,a.__)("Unset","gutenkit-blocks-addon"),value:"unset"}],onChange:e=>P({globalClassManagerOverflowYStyle:e}),__nextHasNoMarginBottom:!0}),(0,u.jsx)(_,{label:(0,a.__)("White Space","gutenkit-blocks-addon"),value:A?.globalClassManagerWhiteSpace,options:[{label:(0,a.__)("Normal","gutenkit-blocks-addon"),value:"normal"},{label:(0,a.__)("No Wrap","gutenkit-blocks-addon"),value:"nowrap"},{label:(0,a.__)("Pre","gutenkit-blocks-addon"),value:"pre"},{label:(0,a.__)("Pre Line","gutenkit-blocks-addon"),value:"pre-line"}],onChange:e=>P({globalClassManagerWhiteSpace:e}),__nextHasNoMarginBottom:!0})]}),(0,u.jsxs)(d,{title:(0,a.__)("Border","gutenkit-blocks-addon"),children:[(0,u.jsx)(h,{children:(0,u.jsx)(x,{label:(0,a.__)("Border","gutenkit-blocks-addon"),value:A?.[`globalClassManagerBorder${R}`],onChange:e=>P({[`globalClassManagerBorder${R}`]:e})})}),(0,u.jsx)(h,{children:(0,u.jsx)(p,{label:(0,a.__)("Border Radius","gutenkit-blocks-addon"),values:A?.[`globalClassManagerBorderRadius${R}`],onChange:e=>P({[`globalClassManagerBorderRadius${R}`]:e})})})]}),(0,u.jsx)(d,{title:(0,a.__)("Box Shadow","gutenkit-blocks-addon"),children:(0,u.jsx)(v,{value:A?.globalClassManagerBoxShadow,onChange:e=>P({globalClassManagerBoxShadow:e})})})]});case"classManagerAdvanced":return(0,u.jsxs)("div",{className:"global-class-manager-controls",children:[(0,u.jsx)(d,{title:(0,a.__)("Layout","gutenkit-blocks-addon"),children:(0,u.jsxs)("div",{className:"gkit-class-manager-panel-body",children:[(0,u.jsx)(h,{children:(0,u.jsx)(p,{label:(0,a.__)("Padding","gutenkit-blocks-addon"),values:A?.[`globalClassManagerPadding${R}`],onChange:e=>P({[`globalClassManagerPadding${R}`]:e})})}),(0,u.jsx)(h,{children:(0,u.jsx)(p,{label:(0,a.__)("Margin","gutenkit-blocks-addon"),values:A?.[`globalClassManagerMargin${R}`],onChange:e=>P({[`globalClassManagerMargin${R}`]:e}),defaultValue:{top:0,right:0,bottom:0,left:0}})}),(0,u.jsx)(r.__experimentalDivider,{className:"gkit-class-manager-divider"}),(0,u.jsx)(h,{children:(0,u.jsx)(_,{label:(0,a.__)("Width","gutenkit-blocks-addon"),value:A?.[`globalClassManagerAdvancedWidth${R}`],options:[{label:(0,a.__)("Default","gutenkit-blocks-addon"),value:"default"},{label:(0,a.__)("Full Width","gutenkit-blocks-addon"),value:"full"},{label:(0,a.__)("Inline (auto)","gutenkit-blocks-addon"),value:"auto"},{label:(0,a.__)("Custom","gutenkit-blocks-addon"),value:"custom"}],onChange:e=>P({[`globalClassManagerAdvancedWidth${R}`]:e}),__nextHasNoMarginBottom:!0})}),"custom"===A?.[`globalClassManagerAdvancedWidth${R}`]&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h,{children:(0,u.jsx)(w,{label:(0,a.__)("Width","gutenkit-blocks-addon"),value:A?.[`classManagerAdvancedCustomWidth${R}`],onChange:e=>P({[`classManagerAdvancedCustomWidth${R}`]:e}),units:{px:{min:0,max:1e3},em:{min:0,max:100},rem:{min:0,max:100},"%":{min:0,max:100}}})}),(0,u.jsx)(h,{children:(0,u.jsx)(w,{label:(0,a.__)("Min Width","gutenkit-blocks-addon"),value:A?.[`classManagerAdvancedCustomMinWidth${R}`],onChange:e=>P({[`classManagerAdvancedCustomMinWidth${R}`]:e}),units:{px:{min:0,max:1e3},em:{min:0,max:100},rem:{min:0,max:100},"%":{min:0,max:100}}})}),(0,u.jsx)(h,{children:(0,u.jsx)(w,{label:(0,a.__)("Max Width","gutenkit-blocks-addon"),value:A?.[`classManagerAdvancedCustomMaxWidth${R}`],onChange:e=>P({[`classManagerAdvancedCustomMaxWidth${R}`]:e}),units:{px:{min:0,max:1e3},em:{min:0,max:100},rem:{min:0,max:100},"%":{min:0,max:100}}})})]})]})}),(0,u.jsxs)(d,{title:(0,a.__)("Display","gutenkit-blocks-addon"),initialOpen:!0,children:[(0,u.jsx)(C,{label:(0,a.__)("Layout Type","gutenkit-blocks-addon"),options:[{label:(0,a.__)("Block","gutenkit-blocks-addon"),value:"block"},{label:(0,a.__)("Inline","gutenkit-blocks-addon"),value:"inline-block"},{label:(0,a.__)("Flex","gutenkit-blocks-addon"),value:"flex"},{label:(0,a.__)("Grid","gutenkit-blocks-addon"),value:"grid"}],value:A?.classManagerLayoutType,onChange:e=>P({classManagerLayoutType:e})}),"grid"===A?.classManagerLayoutType&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(C,{label:(0,a.__)("Grid Layout Type","gutenkit-blocks-addon"),options:[{label:(0,a.__)("Auto","gutenkit-blocks-addon"),value:"auto"},{label:(0,a.__)("Manual","gutenkit-blocks-addon"),value:"manual"},{label:(0,a.__)("Masonry","gutenkit-blocks-addon"),value:"masonry"}],value:A?.classManagerGridLayoutType,onChange:e=>P({classManagerGridLayoutType:e}),isToggle:!1}),"auto"===A?.classManagerGridLayoutType&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h,{children:(0,u.jsx)(w,{label:(0,a.__)("Minimum Column Width","gutenkit-blocks-addon"),value:A?.[`classManagerGridMinimumColumnWidth${R}`],onChange:e=>P({[`classManagerGridMinimumColumnWidth${R}`]:e}),units:{px:{min:0,max:100},rem:{min:0,max:100},em:{min:0,max:100}}})}),(0,u.jsx)(h,{children:(0,u.jsx)(w,{label:(0,a.__)("Minimum Column Height","gutenkit-blocks-addon"),value:A?.[`classManagerGridMinimumColumnHeight${R}`],onChange:e=>P({[`classManagerGridMinimumColumnHeight${R}`]:e}),units:{px:{min:0,max:100},rem:{min:0,max:100},em:{min:0,max:100}}})})]}),"auto"!==A?.classManagerGridLayoutType&&(0,u.jsx)(h,{children:(0,u.jsx)(y,{label:(0,a.__)("Columns","gutenkit-blocks-addon"),value:A?.[`classManagerGridColumns${R}`],onChange:e=>P({[`classManagerGridColumns${R}`]:e}),min:1,max:12})}),"manual"===A?.classManagerGridLayoutType&&(0,u.jsx)(h,{children:(0,u.jsx)(y,{label:(0,a.__)("Rows","gutenkit-blocks-addon"),value:A?.[`classManagerGridManualRows${R}`],onChange:e=>P({[`classManagerGridManualRows${R}`]:e}),min:1,max:12})}),(0,u.jsx)(r.__experimentalDivider,{className:"gkit-class-manager-divider"}),(0,u.jsx)(h,{children:(0,u.jsx)(w,{label:(0,a.__)("Column Gap","gutenkit-blocks-addon"),value:A?.[`classManagerGridColumnGap${R}`],onChange:e=>P({[`classManagerGridColumnGap${R}`]:e}),units:{px:{min:0,max:100},rem:{min:0,max:100},em:{min:0,max:100}}})}),(0,u.jsx)(h,{children:(0,u.jsx)(w,{label:(0,a.__)("Row Gap","gutenkit-blocks-addon"),value:A?.[`classManagerGridRowGap${R}`],onChange:e=>P({[`classManagerGridRowGap${R}`]:e}),units:{px:{min:0,max:100},rem:{min:0,max:100},em:{min:0,max:100}}})})]}),"flex"===A?.classManagerLayoutType&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h,{children:(0,u.jsx)(C,{label:(0,a.__)("Direction","gutenkit-blocks-addon"),options:[{label:(0,a.__)("Row","gutenkit-blocks-addon"),value:"row",icon:Oe},{label:(0,a.__)("Column","gutenkit-blocks-addon"),value:"column",icon:Ee},{label:(0,a.__)("Row Reverse","gutenkit-blocks-addon"),value:"row-reverse",icon:Te},{label:(0,a.__)("Column Reverse","gutenkit-blocks-addon"),value:"column-reverse",icon:Ne}],value:A?.[`classManagerFlexDirection${R}`],onChange:e=>P({[`classManagerFlexDirection${R}`]:e})})}),(0,u.jsx)(h,{children:(0,u.jsx)(C,{label:(0,a.__)("Align","gutenkit-blocks-addon"),options:[{label:(0,a.__)("Flex Start","gutenkit-blocks-addon"),value:"flex-start",icon:$e},{label:(0,a.__)("Center","gutenkit-blocks-addon"),value:"center",icon:Ge},{label:(0,a.__)("Flex End","gutenkit-blocks-addon"),value:"flex-end",icon:Be},{label:(0,a.__)("Stretch","gutenkit-blocks-addon"),value:"stretch",icon:Fe}],value:A?.[`classManagerFlexAlign${R}`],onChange:e=>P({[`classManagerFlexAlign${R}`]:e}),className:"gkit-choose-rotate"})}),(0,u.jsx)(h,{children:(0,u.jsx)(C,{label:(0,a.__)("Justify","gutenkit-blocks-addon"),options:[{label:(0,a.__)("Flex Start","gutenkit-blocks-addon"),value:"flex-start",icon:$e},{label:(0,a.__)("Center","gutenkit-blocks-addon"),value:"center",icon:Ge},{label:(0,a.__)("Flex End","gutenkit-blocks-addon"),value:"flex-end",icon:Be},{label:(0,a.__)("Space Between","gutenkit-blocks-addon"),value:"space-between",icon:Fe},{label:(0,a.__)("Space Around","gutenkit-blocks-addon"),value:"space-around",icon:He}],value:A?.[`classManagerFlexJustify${R}`],onChange:e=>P({[`classManagerFlexJustify${R}`]:e})})}),(0,u.jsx)(h,{children:(0,u.jsx)(w,{label:(0,a.__)("Column Gap","gutenkit-blocks-addon"),value:A?.[`classManagerFlexColumnGap${R}`],onChange:e=>P({[`classManagerFlexColumnGap${R}`]:e}),units:{px:{min:0,max:1e3},em:{min:0,max:100},rem:{min:0,max:100}}})}),(0,u.jsx)(h,{children:(0,u.jsx)(w,{label:(0,a.__)("Row Gap","gutenkit-blocks-addon"),value:A?.[`classManagerFlexRowGap${R}`],onChange:e=>P({[`classManagerFlexRowGap${R}`]:e}),units:{px:{min:0,max:1e3},em:{min:0,max:100},rem:{min:0,max:100}}})}),(0,u.jsx)(h,{children:(0,u.jsx)(C,{label:(0,a.__)("Flex Wrap","gutenkit-blocks-addon"),value:A?.[`classManagerFlexWrap${R}`],onChange:e=>P({[`classManagerFlexWrap${R}`]:e}),options:[{label:(0,a.__)("No Wrap","gutenkit-blocks-addon"),value:"nowrap",icon:Te},{label:(0,a.__)("Wrap","gutenkit-blocks-addon"),value:"wrap",icon:ze}]})})]})]}),(0,u.jsx)(d,{title:(0,a.__)("Position","gutenkit-blocks-addon"),children:(0,u.jsxs)("div",{className:"gkit-class-manager-panel-body",children:[(0,u.jsx)(_,{label:(0,a.__)("Position","gutenkit-blocks-addon"),value:A?.globalClassManagerAdvancedPositions,options:[{label:(0,a.__)("Default","gutenkit-blocks-addon"),value:"relative"},{label:(0,a.__)("Absolute","gutenkit-blocks-addon"),value:"absolute"},{label:(0,a.__)("Fixed","gutenkit-blocks-addon"),value:"fixed"},{label:(0,a.__)("Sticky","gutenkit-blocks-addon"),value:"sticky"},{label:(0,a.__)("Static","gutenkit-blocks-addon"),value:"static"}],onChange:e=>P({globalClassManagerAdvancedPositions:e}),__nextHasNoMarginBottom:!0}),T.includes(A?.globalClassManagerAdvancedPositions)&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r.__experimentalDivider,{className:"gkit-class-manager-divider"}),(0,u.jsx)(C,{label:(0,a.__)("Vertical Position","gutenkit-blocks-addon"),value:A?.classManagerVerticalPosition,options:[{label:(0,a.__)("Top","gutenkit-blocks-addon"),value:"top",icon:Ie},{label:(0,a.__)("Bottom","gutenkit-blocks-addon"),value:"bottom",icon:De}],onChange:e=>P({classManagerVerticalPosition:e}),isToggle:!1}),(0,u.jsx)(h,{children:(0,u.jsx)(w,{label:(0,a.__)("Offset","gutenkit-blocks-addon"),value:A?.[`classManagerVerticalPositionOffset${R}`],onChange:e=>P({[`classManagerVerticalPositionOffset${R}`]:e}),units:{px:{min:-1e3,max:1e3},em:{min:-100,max:100},rem:{min:-100,max:100}}})}),(0,u.jsx)(C,{label:(0,a.__)("Horizontal Position","gutenkit-blocks-addon"),value:A?.classManagerHorizontalPosition,options:[{label:(0,a.__)("Left","gutenkit-blocks-addon"),value:"left",icon:We},{label:(0,a.__)("Right","gutenkit-blocks-addon"),value:"right",icon:Ze}],onChange:e=>P({classManagerHorizontalPosition:e}),isToggle:!1}),(0,u.jsx)(h,{children:(0,u.jsx)(w,{label:(0,a.__)("Offset","gutenkit-blocks-addon"),value:A?.[`classManagerHorizontalPositionOffset${R}`],onChange:e=>P({[`classManagerHorizontalPositionOffset${R}`]:e}),units:{px:{min:-1e3,max:1e3},em:{min:-100,max:100},rem:{min:-100,max:100}}})})]}),(0,u.jsx)(r.__experimentalDivider,{className:"gkit-class-manager-divider"}),(0,u.jsx)(h,{children:(0,u.jsx)(j,{label:(0,a.__)("Z-index","gutenkit-blocks-addon"),value:A?.[`classManagerAdvancedZindex${R}`],onChange:e=>P({[`classManagerAdvancedZindex${R}`]:e}),range:{max:9999999999,min:-1}})})]})}),o?(0,u.jsx)(d,{title:(0,a.__)("Custom CSS","gutenkit-blocks-addon"),children:(0,u.jsx)(ke,{selectedClass:e,value:A?.classManagerCustomCSS,onChange:e=>{P({classManagerCustomCSS:e})},help:(0,u.jsxs)(u.Fragment,{children:["To target the current block only, use the ",(0,u.jsx)("code",{children:"selector"})," keyword."]})})}):(0,u.jsxs)("div",{className:"gkit-pro-notice",onClick:G,tabIndex:0,children:[(0,u.jsx)(d,{title:(0,a.__)("Custom CSS","gutenkit-blocks-addon")}),N&&(0,u.jsx)(f,{isProActive:o,label:(0,a.__)("Custom CSS","gutenkit-blocks-addon"),message:(0,a.__)("The Custom CSS is only available in GutenKit pro version.","gutenkit-blocks-addon"),onPopupClose:B,pluginName:"gutenkit"})]})]})}}})},qe=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"})}),Je=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})}),Ke=({attributes:e,setAttributes:t})=>{const{setActiveSubClass:n,createNewClass:s}=(0,c.useDispatch)("gutenkit/class-manager"),[o,d]=(0,l.useState)(!1),[g,h]=(0,l.useState)(""),[m,p]=(0,l.useState)(""),[b,v]=(0,l.useState)(!1),{activeClass:x,activeSubClass:k}=(0,c.useSelect)((e=>{const{getEditedActiveClass:t,getActiveSubClass:a,getSubClasses:n}=e("gutenkit/class-manager"),s=t(),l=n(s?.id)?.records||[];return{activeClass:s?{id:s?.id,title:s?.title,meta:s.meta||{},children:l}:null,activeSubClass:a()}}),[e?.classLists]),f=(0,c.useSelect)((e=>{const{getSubClasses:t}=e("gutenkit/class-manager"),a=t(x?.id);return a?.records&&a.hasFinishedResolution?a.records:[]}),[x?.id]),w=()=>{h(""),d(!1)};return(0,u.jsx)("div",{className:"global-classes-subSelector",children:x&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"global-classes-subSelector-item-wrapper",children:(x?.children||[]).length>0?x?.children.map((e=>(0,u.jsx)("div",{className:i("global-classes-subSelector-item",{"global-classes-subSelector-item-active":k?.id===e.id}),onClick:()=>(e=>{const t=k&&k?.id===e.id;n(t?null:{id:e.id,title:e?.title?.raw})})(e),children:(0,u.jsx)("span",{className:"global-classes-subSelector-item-name",children:e?.title?.raw?e.title.raw:"Untitled"})},e.id))):(0,u.jsx)("span",{className:"global-classes-subSelector-item-name",children:(0,a.__)("Note: The sub-selector you're adding needs to already exist within the block.","gutenkit-blocks-addon")})}),o?(0,u.jsx)("div",{className:"global-classes-subSelector-input",children:(0,u.jsx)(r.__experimentalInputControl,{value:g,onChange:e=>{h(e),p("")},onKeyDown:e=>"Enter"===e.key&&(()=>{if(!g.trim())return;const e=f?.records?.some((e=>e.title===g));e?p((0,a.__)("Sub Selector already exists","gutenkit-blocks-addon")):(s(g,x.id).then((()=>{h(""),d(!1),v((e=>!e))})),p(""),w())})(),placeholder:(0,a.__)("Add Sub Selector...","gutenkit-blocks-addon"),help:m||(g?.trim()?.length>0?(0,a.__)("Press enter to create","gutenkit-blocks-addon"):"Added sub-selector with a dot (.) at the beginning."),suffix:(0,u.jsx)(r.Button,{icon:qe,onClick:w,className:"global-classes-subSelector-close",label:(0,a.__)("Close","gutenkit-blocks-addon")})})}):x?.id&&(0,u.jsx)(r.Button,{variant:"secondary",icon:Je,iconPosition:"left",size:"small",className:"global-classes-subSelector-button",onClick:()=>d(!0),children:(0,a.__)("Sub Selector","gutenkit-blocks-addon")})]})})},Xe=({setAttributes:e,attributes:t,styleManagerRef:n})=>{const{deleteClass:s,updateClass:o,togglePopover:i,setActiveClass:d,setActiveSubClass:b}=(0,c.useDispatch)("gutenkit/class-manager"),{__unstableMarkNextChangeAsNotPersistent:v}=(0,c.useDispatch)("core/block-editor"),{activeClass:x,activeSubClass:k}=(0,c.useSelect)((e=>{const{getEditedActiveClass:t,getActiveSubClass:a}=e("gutenkit/class-manager");return{activeClass:{id:t()?.id,title:t()?.title,children:t()?.children},activeSubClass:a()}}),[]),[f,w]=(0,l.useState)(!1),[C,_]=(0,l.useState)(!1),j=(0,l.useRef)(""),y=k||x||null;if(y?.id)return(0,u.jsx)("div",{className:"popupbox-wrapper",children:(0,u.jsxs)(r.Popover,{placement:"left-start",offset:25,focusOnMount:"firstElement",className:"global-classes-manager-popover",onFocusOutside:function(){if(!n.current)return;const{ownerDocument:t}=n.current,a=t?.activeElement?.closest('[role="dialog"]');n.current.contains(t.activeElement)||a&&!a.contains(n.current)||(w(!1),d(null),b(null),e({unseenClassName:""}))},anchor:n?.current,children:[(0,u.jsxs)("div",{className:"global-classes-manager-popover-panel",children:[(0,u.jsxs)("div",{className:"class-action-wrapper",children:[(0,u.jsx)("div",{className:"global-classes-name "+(f?"global-classes-name-editable":""),contentEditable:f,onInput:f?e=>{const t=e.target.innerText;j.current=t}:null,onKeyDown:f?t=>{"Enter"===t.key&&j?.current&&(t.preventDefault(),y?.id===x?.id&&o(y?.id,j.current).then((t=>{e((e=>({...e,classLists:e.classLists.map((e=>e.id===x?.id?{...e,title:t?.data?.title?.rendered}:e))})))})),y?.id===k?.id&&o(y?.id,j.current).then((t=>{e((e=>({...e,classLists:e.classLists.map((e=>e.id===x?.id?{...e,children:e.children.map((e=>e.id===k?.id?{...e,title:t?.data?.title?.rendered}:e))}:e))})))})),w(!1))}:null,suppressContentEditableWarning:!0,style:{cursor:f?"text":"default"},children:y?.title}),(0,u.jsxs)("div",{className:"global-classes-settings",children:[(0,u.jsx)(r.Button,{icon:(0,u.jsx)(r.Icon,{icon:C?g:h}),label:C?"Seen":"Unseen",onClick:(a=>{if(_((e=>!e)),a?.id===x?.id){const n=t.unseenClassName===a?.title;v(),e({unseenClassName:n?"":a?.title})}}).bind(null,x)}),(0,u.jsx)(r.Button,{icon:(0,u.jsx)(r.Icon,{icon:m}),label:"Edit",onClick:()=>w((e=>!e))}),(0,u.jsx)(r.Button,{icon:p,label:"Delete",onClick:async()=>{if(y?.id===x?.id){const t=await s(x.id);t?.data&&(e((e=>({...e,classLists:e.classLists.filter((e=>e.id!==x.id))}))),i(!1),d(null))}if(y?.id===k?.id){const t=await s(k.id);t?.data&&(e((e=>({...e,classLists:e.classLists.map((e=>e.id===x?.id?{...e,children:e.children.filter((e=>e.id!==k.id))}:e))}))),b(null))}}})]})]}),(0,u.jsxs)("div",{className:"subselector-wrapper",children:[(0,u.jsx)("h5",{className:"subselector-title",children:(0,a.__)("Subselector","gutenkit-blocks-addon")}),(0,u.jsx)(Ke,{attributes:t,setAttributes:e})]})]}),x?(0,u.jsx)(Ue,{selectedClass:y}):null]})})},Ye=({setOpenDropdown:e,popoverAnchorRef:t,searchInput:a,setSearchInput:n,setAttributes:s,attributes:l,data:o})=>{const{togglePopover:d,setActiveClass:g,setActiveSubClass:h}=(0,c.useDispatch)("gutenkit/class-manager"),{showPopover:m,activeClass:p}=(0,c.useSelect)((e=>{const{getShowPopover:t,getActiveClass:a}=e("gutenkit/class-manager");return{showPopover:t(),activeClass:a()}}),[]),{classes:b,isResolving:v}=o;return v?(0,u.jsx)(r.Spinner,{}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"global-classes-dropdown-input-wrapper",ref:t,onClick:t=>{t.preventDefault();const a=document.querySelector(".global-classes-dropdown-input-wrapper"),n=document.querySelector(".global-classes-dropdown-search-input");a&&a.contains(t.target)&&(t.target.closest(".global-classes-class-item")||(n.focus(),e(!0),g(null),h(null)))},children:[(b?(l?.classLists||[]).map((e=>{let t=e?.id;if(b.find((e=>e.id===t)))return e})).filter((e=>void 0!==e)):[])?.map(((t,a)=>(0,u.jsxs)("div",{className:"global-classes-class-item "+(p?.id===t?.id?"global-classes-class-item-active":""),onClick:a=>{((t,a)=>{if(!t.target.contains(t.target.closest(".global-classes-class-item-remove"))){const t=p?.id===a.id;g(t?null:a),e(!1)}})(a,t)},children:[(0,u.jsx)("span",{className:"global-classes-class-item-name",children:t?.title?.rendered||t?.title||""}),(0,u.jsx)("span",{className:"global-classes-class-item-remove dashicons dashicons-no-alt",onClick:()=>{const e=l.classLists||[];s({classLists:e.filter((e=>e.id!==t.id))}),n(""),d(!1)}})]},a))),(0,u.jsx)("input",{type:"text",className:"global-classes-dropdown-search-input",value:a,onChange:e=>{n(e.target.value),e.target.value&&(e.target.style.width=`${e.target.value.length+1}ch`)}}),(0,u.jsx)("span",{className:i("global-classes-dropdown-icon",l?.classLists?.length?"dashicons dashicons-no-alt global-classes-dropdown-clear-all":"dashicons dashicons-arrow-down-alt2 global-classes-dropdown-search-icon"),onClick:()=>{l?.classLists?.length&&(s({classLists:[]}),n(""))}})]}),m&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(Xe,{setAttributes:s,attributes:l,styleManagerRef:t})})]})},Qe=({popoverRef:e,popoverAnchorRef:t,openDropdown:n,closeIfFocusOutside:s,newClass:o,setNewClass:d,searchInput:g,setSearchInput:h,setAttributes:m,attributes:p,data:b})=>{const{createNewClass:v}=(0,c.useDispatch)("gutenkit/class-manager"),[x,k]=(0,l.useState)(""),{classes:f,isResolving:w}=b,C=(e,t,a)=>{const n=e?.title?.rendered,s=e?.id,l=(p?.classLists||[]).filter((e=>a.some((t=>t.id===e?.id)))),o=l.some((e=>e.id===s));m(o?{classLists:l.filter((e=>e.id!==s))}:{classLists:[...l,{id:s,title:n,children:[]}]})};return(0,u.jsx)(u.Fragment,{children:n&&(0,u.jsx)("div",{className:"global-classes-dropdown-popover-wrapper",ref:e,tabIndex:-1,children:(0,u.jsx)(r.Popover,{position:"bottom center",onFocusOutside:s,expandOnMobile:!0,headerTitle:(0,a.__)("Classes","gutenkit-blocks-addon"),focusOnMount:!1,offset:5,anchor:t?.current?t?.current:e?.current||null,variant:"toolbar",className:i("global-classes-dropdown__content"),children:(0,u.jsxs)("div",{className:"global-classes-dropdown-content-wrapper",children:[(0,u.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),f.some((e=>e.title.rendered===o)))return void k("Class already exists.");if(x||""===o.trim())return;const t=await v(o);t&&(C(t?.data,f.length,f),k(""),d(""))},children:(0,u.jsxs)(r.Flex,{children:[(0,u.jsx)(r.FlexBlock,{children:(0,u.jsx)(r.__experimentalInputControl,{value:o,onChange:e=>{""===e?(k(""),d("")):/^[a-zA-Z_][a-zA-Z0-9_-]*$/.test(e)?(k(""),d(e)):k("Invalid class name. Only letters, numbers, hyphens, and underscores are allowed.")},placeholder:"Add class...",help:x})}),(0,u.jsx)(r.FlexItem,{children:(0,u.jsx)(r.Button,{variant:"primary",type:"submit",disabled:x||""===o.trim(),children:(0,a.__)("Add","gutenkit-blocks-addon")})})]})}),(0,u.jsx)(r.MenuGroup,{label:(0,a.__)("Classes","gutenkit-blocks-addon"),children:f?.length>0?f.filter((e=>g?e.title.rendered.toLowerCase().includes(g.toLowerCase()):e)).map(((e,t,a)=>(0,u.jsx)(r.MenuItem,{onClick:()=>C(e,0,a),className:i("global-classes-dropdown-class-item"),children:(0,u.jsxs)(r.Flex,{children:[(0,u.jsx)(r.FlexItem,{children:e?.title?.rendered}),p?.classLists?.some((t=>t.id===e.id))&&(0,u.jsx)(r.FlexItem,{children:(0,u.jsx)("span",{className:"dashicons dashicons-yes"})})]})},t))):(0,u.jsx)(u.Fragment,{children:w?(0,u.jsx)(r.Spinner,{}):(0,u.jsx)("p",{children:(0,a.__)("No classes found","gutenkit-blocks-addon")})})})]})})})})},et=e=>{const[t,a]=(0,l.useState)(""),[n,s]=(0,l.useState)(""),[o,i]=(0,l.useState)(!1),r=(0,l.useRef)(null),d=(0,l.useRef)(null),{getAttributes:g,setAttributes:h}=window?.gutenkit?.helpers,m=g(e.clientId),{classes:p,isResolving:b}=(0,c.useSelect)((e=>{const{getClasses:t}=e("gutenkit/class-manager");return{classes:t()?.records||[],isResolving:t()?.isResolving}}),[]),v=(0,l.useCallback)((t=>{h(e?.clientId,t)}),[e?.clientId]);return(0,l.useEffect)((()=>{function e(e){e.target.closest(".global-classes-dropdown-input-wrapper")||e.target.closest(".global-classes-dropdown__content")||d?.current.contains(e.target)&&r.current?.contains(e.target)||(i(!1),a(""))}return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}),[d.current]),(0,u.jsxs)("div",{className:"global-classes-dropdown",children:[(0,u.jsx)(Ye,{popoverAnchorRef:d,setOpenDropdown:i,searchInput:t,setSearchInput:a,setAttributes:v,attributes:m,data:{classes:p,isResolving:b}}),(0,u.jsx)(Qe,{closeIfFocusOutside:function(){if(!r.current)return;const{ownerDocument:e}=r.current,t=e?.activeElement?.closest('[role="dialog"]');r.current.contains(e.activeElement)||t&&!t.contains(r.current)||(i(!1),a(""))},newClass:n,setNewClass:s,openDropdown:o,popoverAnchorRef:d,popoverRef:r,searchInput:t,setSearchInput:a,setAttributes:v,attributes:m,data:{classes:p,isResolving:b}})]})},tt=window.wp.domReady;var at=e.n(tt);const nt={classes:[],newClassName:"",parentClassId:0,showPopover:!1},st=(0,c.createReduxStore)("gutenkit/class-manager",{reducer(e=nt,t){switch(t.type){case"CREATE_CLASS":return{...e,newClassName:t.newClassName,parentClassId:t.parentClassId};case"DELETE_CLASS":return{...e,classId:t.classId};case"UPDATE_CLASS":return{...e,classId:t.classId,className:t.className};case"TOGGLE_POPOVER":return{...e,showPopover:!t.showPopover};case"SET_ACTIVE_CLASS":const a=e.classes.find((e=>e.id===t.item.id))?.children||[];return{...e,activeClass:{...t.item,children:a}};case"SET_ACTIVE_SUB_CLASS":return{...e,activeSubClass:t.item};case"ADD_SUB_CLASS":{const{parentClassId:a,subClass:n}=t;return{...e,classes:e.classes.map((e=>e.id===a?{...e,children:[...e.children||[],n]}:e))}}default:return e}},actions:{createNewClass:(e,t=0)=>async({dispatch:a,registry:n})=>{const{saveEntityRecord:s}=n.dispatch("core"),l=await s("postType","class-manager",{title:e,parent:t,status:"publish"});return await a({type:"CREATE_CLASS",data:l})},deleteClass:e=>async({dispatch:t,registry:a})=>{const{deleteEntityRecord:n}=a.dispatch("core"),s=await n("postType","class-manager",e,{force:!0});return await t({type:"DELETE_CLASS",data:s})},updateClass:(e,t)=>async({dispatch:a,select:n,registry:s})=>{const{editEntityRecord:l,saveEditedEntityRecord:o}=s.dispatch("core");await l("postType","class-manager",e,{title:t});const i=await o("postType","class-manager",e);return await a({type:"UPDATE_CLASS",data:i})},togglePopover:(e,t=null)=>({dispatch:a})=>a({type:"TOGGLE_POPOVER",show:e,item:t}),setActiveClass:e=>({dispatch:t})=>t({type:"SET_ACTIVE_CLASS",item:e}),setActiveSubClass:e=>({dispatch:t})=>t({type:"SET_ACTIVE_SUB_CLASS",item:e}),addSubClass:(e,t)=>async({dispatch:a,registry:n})=>{const{saveEntityRecord:s}=n.dispatch("core"),l=await s("postType","class-manager",{title:t.title,parent:e,status:"publish"});return a({type:"ADD_SUB_CLASS",parentClassId:e,subClass:{id:l,...t}}),l}},selectors:{getClasses:(0,c.createRegistrySelector)((e=>t=>{const{getEntityRecords:a,isResolving:n,hasFinishedResolution:s,hasStartedResolution:l}=e("core"),o=["postType","class-manager",{per_page:-1,parent:0}];return{records:a(...o),hasStartedResolution:l("getEntityRecords",o),isResolving:n("getEntityRecords",o),hasFinishedResolution:s("getEntityRecords",o)}})),getAllClasses:(0,c.createRegistrySelector)((e=>t=>{const{getEntityRecords:a,isResolving:n,hasFinishedResolution:s,hasStartedResolution:l}=e("core"),o=["postType","class-manager",{per_page:-1}];return{records:a(...o||[]),hasStartedResolution:l("getEntityRecords",o),isResolving:n("getEntityRecords",o),hasFinishedResolution:s("getEntityRecords",o)}})),getSubClasses:(0,c.createRegistrySelector)((e=>(t,a)=>{if(!a||0===a)return[];const{getEntityRecords:n,isResolving:s,hasFinishedResolution:l,hasStartedResolution:o}=e("core"),i=["postType","class-manager",{per_page:-1,parent:a}];return{records:n(...i||[]),hasStartedResolution:o("getEntityRecords",i),isResolving:s("getEntityRecords",i),hasFinishedResolution:l("getEntityRecords",i)}})),getShowPopover:e=>e.showPopover,getActiveClass:e=>e.activeClass,getEditedActiveClass:(0,c.createRegistrySelector)((e=>t=>{const{getEditedEntityRecord:a,getEntityRecords:n}=e("core"),s=a("postType","class-manager",t?.activeClass?.id);if(!s)return null;const l=n("postType","class-manager",{parent:s.id})||[];return{...s,children:l}})),getActiveSubClass:e=>e.activeSubClass,getEditedActiveSubClass:(0,c.createRegistrySelector)((e=>t=>{if(!t.activeClass?.id)return null;const{getEditedEntityRecord:a}=e("core");return a("postType","class-manager",t.activeClass.id)}))}}),lt=(0,n.createHigherOrderComponent)((e=>t=>{const{attributes:a,setAttributes:n,isSelected:s}=t,{classes:o}=(0,c.useSelect)((e=>{const{getClasses:t}=e("gutenkit/class-manager");return{classes:t()?.records||[]}}),[]),{__unstableMarkNextChangeAsNotPersistent:i}=(0,c.useDispatch)("core/block-editor"),{setActiveClass:r,togglePopover:d,setActiveSubClass:g}=(0,c.useDispatch)("gutenkit/class-manager"),h=((e,t)=>e?(t?.classLists||[]).map((t=>{let a=t?.id;const n=e.find((e=>e.id===a));if(n)return{...t,title:n?.title?.rendered}})).filter((e=>void 0!==e)):[])(o,a),m=(0,l.useRef)(h);return(0,l.useEffect)((()=>{t?.name?.includes("gutenkit")&&JSON.stringify(m.current)!==JSON.stringify(h)&&(i(),n({classLists:h}),m.current=h)}),[h,s,t?.name]),(0,l.useEffect)((()=>{s&&(r(null),g(null),d(!1))}),[s]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(e,{...t})})}),"ClassEdit"),ot=()=>{const{useDeviceList:e}=window.gutenkit.helpers,t=e(),{classManagerStyles:a,currentStoreSettings:n}=(0,c.useSelect)((e=>{const{getAllClasses:t}=e("gutenkit/class-manager"),{getEditorSettings:a}=e("core/editor"),{getEditedEntityRecord:n}=e("core"),s=t()?.records||[];return{classManagerStyles:s?.map((e=>{const t=n("postType","class-manager",e?.id);return t?.meta?.globalClassManagerStyle}))||[],currentStoreSettings:a()}}),[]),s=(0,l.useMemo)((()=>{let e=[];return t.forEach((t=>{let n=t?.value,s=t?.slug||"Desktop",l=t?.direction||"max",o=s?.toLowerCase();a?.forEach((t=>{if("base"==n&&t?.[o])e.push(t?.[o]);else if(t?.[o]&&n&&l){let a=`@media (${l}-width: ${n}px) { ${t?.[o]} }`;e.push(a)}}))})),e.length>0?e.join(""):""}),[a,t]),{updateEditorSettings:o}=(0,c.dispatch)("core/editor"),i=(0,l.useRef)(s);return(0,l.useEffect)((()=>{if(JSON.stringify(i.current)!==JSON.stringify(s)){const e={css:s,__unstableType:"gutenkit-class-manager-styles",isGlobalStyles:!0},t=n?.styles?.findIndex((t=>t.__unstableType===e.__unstableType&&t.isGlobalStyles===e.isGlobalStyles));if(-1!==t){const a=[...n.styles];a[t]=e,o({...n,styles:a})}else o({...n,styles:[...n.styles,e]});i.current=s}}),[s,n,o]),(0,u.jsx)(u.Fragment,{})},it=(0,n.createHigherOrderComponent)((e=>t=>(0,u.jsxs)(e,{...t,children:[(0,u.jsx)(et,{...t}),t?.children]})),"Settings");(0,t.addFilter)("gutenkit.tabs.before-tab-panel","gutenkit/class-manager.controls",it),(0,t.addFilter)("gutenkit.blockWrapper.attributes","gutenkit/class-manager/blockWrapper",(function(e,t){const a=t?.classLists||[],n=a?.map((e=>e?.title)).filter((e=>e!==t?.unseenClassName));return{...e,className:i(e.className,...n)}}),10),(0,t.addFilter)("editor.BlockEdit","gutenkit/class-manager/edit",lt,10),at()((()=>{(0,c.register)(st),(0,s.registerPlugin)("gutenkit-class-manager",{render:ot})}))})();